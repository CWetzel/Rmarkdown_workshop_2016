R Markdown Examples
========================================================
author: Melissa Monk
date: October 2016
autosize: true

R Markdown
========================================================

In this section we're going to learn the R Markdown basics

- R Markdown renders easiest to a HTML, but we're interested
   in creating a PDF (unfortunately they're virtually mutually exclusive)
- The assessment template is designed to only render to a PDF
- Includes flavors of R, LaTeX, and HTML
- It can be quirky at times
  * Ex. R code will still run within an HTML comment unless also commented out


How it works
========================================================

![Workflow](RMarkdownFlow.png)

When you run render, R Markdown feeds the .Rmd file to knitr, which executes all of the code chunks and creates a new markdown (.md) document which includes the code and it's output.

The markdown file generated by knitr is then processed by pandoc which is responsible for creating the finished format.

<small>Slide content from rmarkdown.rstudio.com</small>


Create an R Markdown document
========================================================
We're going to work with the 'myrepo' repository we created earlier.

If you don't have it open already, open the myrepo.Rproj

Using the generalized R markdown template, we'll walk through some examples

Do this: *File > New File > R Markdown ...*

- Give the document a title.  This is not the filename of the document and you can include spaces and punctuation.
- You will have to Save the document and assign a file name, without spaces
  * Save this in your working directory of the R project
- Accept the default Author (you can change this later)
- Change the default output to **PDF**
- Click OK


Knit, Commit, Push
========================================================
- Click on the "Knit to PDF" in the RStudio top menu.

- If all goes well, a preview version will pop-up.

- On the top right panel in RStudio, navigate to the "Git" window

- Click Commit

- Check all of the boxes of the files you want to commit.  

- Writing a commit message is required.  Once you do this, click Commit.

- You can now Push these changes to GitHub by clicking "Push"

You can go to your GitHub account and see the changes

I am only going to go through examples with PDF output, since that's what the Assessment Template uses



The YAML
========================================================
This may be the most confusing part of an R Markdown document

* The YAML is the frontmatter controlling the document and is at the very top of the file 
* The YAML starts and ends with `---`
* You cannot add comments or extraneous text to the YAML

Your YAML should look something like this:
```
yaml
---
title: "Workshop Examples"
author: "Melissa Monk"
date: "September 21, 2016"
output: pdf_document
---
```
The YAML continued
========================================================
You can change some of the YAML settings via the RStudio IDE:

Click on the "gear" in the top bar of the editor and select "Output options"

Check "Include Table of Contents"
Click "Figures" - check "Render figures with captions""
Click "Output" - check "Keep tex source..."


The YAML continued
========================================================
The YAML will now look something like this:


```
---
title: "Workshop Examples"
author: "Melissa Monk"
date: "September 21, 2016"
output: 
  pdf_document: 
    fig_caption: yes
    keep_tex: yes
    latex_engine: xelatex
    toc: yes
---
```

Document Sections
========================================================
Document sections are created using # signs

`#` is a top-level header   
`##` Sub heading 1   
`###` One additional level down   

And so forth


Citations
========================================================






R code chunks
========================================================
R code chunks begin and end with three accent characters (next to the 1)

R code chunk options in the repository are set global at the beginning
of the Assessment_template.Rmd
 
 {r global_options, include=FALSE} #sets global options       
  knitr::opts_chunk$set(echo=FALSE, warning=FALSE, message=FALSE)    
  
  
**This is telling knitr:** 

* echo=FALSE:    Don't print R code
* warning=FALSE: Don't print warning messages
* message=FALSE: don't print R messages



R code chunks
========================================================
**Example Chunk:**

      
      ```r
          1+1
      ```
      
      ```
      [1] 2
      ```
If you don't set any R code chunk options, this is the default

Now we'll go through some example R code chunks


Figures
========================================================
Figures are either embedded via R markdown syntax or via R code chunks.

The assessment template contains both


Tables
========================================================



Referencing Tables and Figures
========================================================






Clean up
========================================================
**Local** When you're ready to clean up, you delete the local repo any way you like. It's just a regular directory on your computer.

**GitHub** In the browser, go to your repo's landing page on GitHub. Click on "Settings".

Scroll down, click on "delete repository," and do as it asks.
